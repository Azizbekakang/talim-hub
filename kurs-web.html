<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Dasturlash | Talim Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen">

  <header class="bg-gradient-to-r from-cyan-600 to-blue-700 text-white p-6 shadow-lg sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-3xl font-bold">Web Dasturlash (HTML, CSS, JS)</h1>
      <a href="https://azizbekakang.github.io/talim-hub/#" class="text-xl hover:underline">Bosh sahifa</a>
    </div>
  </header>

  <div class="container mx-auto px-6 py-10 grid lg:grid-cols-3 gap-10">
    <div class="lg:col-span-2 space-y-10">
      <div class="bg-white rounded-2xl shadow-xl p-8" id="lessonContent">
        <h2 class="text-4xl font-bold mb-6 text-cyan-700" id="lessonTitle">1-dars: HTML nima?</h2>
        <div class="aspect-video bg-black rounded-xl overflow-hidden mb-8">
          <iframe id="videoFrame" class="w-full h-full" src="https://www.youtube.com/embed/UB1O30fR-EE" allowfullscreen></iframe>
        </div>
        <p class="text-lg leading-relaxed text-gray-700" id="lessonText">
          HTML â€” veb-sahifaning skeleti. Barcha elementlar <tag> shaklida yoziladi...
        </p>

        <!-- PDF kitob -->
        <a href="https://azizbekang.github.io/talim-hub/books/web-kitob.pdf" target="_blank"
           class="inline-block mt-8 bg-red-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-red-700">
          <i class="fas fa-file-pdf"></i> Toâ€˜liq Web Kitob (PDF)
        </a>

        <!-- 10 ta savol -->
        <div class="mt-12 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-8" id="quizSection">
          <h3 class="text-3xl font-bold mb-8 text-cyan-800">Test: <span id="quizTitle">1-dars</span></h3>
          <div id="questions" class="space-y-8"></div>
          <button onclick="checkQuiz()" class="mt-10 bg-green-600 text-white px-12 py-5 rounded-xl text-xl font-bold hover:bg-green-700 shadow-lg">
            Javobni tekshirish
          </button>
          <p id="quizResult" class="mt-8 text-3xl font-bold"></p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-xl p-8 sticky top-24">
      <h3 class="text-2xl font-bold mb-6 text-cyan-700">Darslar (10 ta)</h3>
      <div id="lessonList" class="space-y-4"></div>
      <div class="mt-10 p-8 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-2xl text-center shadow-xl">
        <p class="text-5xl font-bold" id="progressPercent">0%</p>
        <p class="text-xl mt-2">Kurs bajarildi</p>
      </div>
    </div>
  </div>

  <script>
    const lessons = [
      { title: "1-dars: HTML nima?", video: "UB1O30fR-EE", text: "HTML â€” veb-sahifaning skeleti...", questions: [
        {q:"HTML bu nima?",a:["Dizayn","Struktura","Animatsiya"],c:1},
        {q:"<h1> tegi nima qiladi?",a:["Katta sarlavha","Kichik matn","Rasm"],c:0},
        {q:"<p> tegi nima uchun?",a:["Paragraf","Rasm","Havola"],c:0},
        {q:"<!DOCTYPE html> nima?",a:["Deklaratsiya","Tag","Xato"],c:0},
        {q:"<body> ichidagi kod koâ€˜rinadimi?",a:["Yoâ€˜q","Ha"],c:1},
        {q:"<img> tegi yopiladimi?",a:["Ha","Yoâ€˜q"],c:1},
        {q:"src atributi nima uchun?",a:["Havola","Rasm yoâ€˜li","Matn"],c:1},
        {q:"alt atributi nima?",a:["Alternativ matn","Rasm nomi","Xato"],c:0},
        {q:"<a href=''> bu nima?",a:["Havola","Rasm","Roâ€˜yxat"],c:0},
        {q:"HTML fayl kengaytmasi?",a:[".css",".html",".js"],c:1}
      ]},
      { title: "2-dars: CSS asoslari", video: "pQN-pnXPaVg", text: "CSS â€” sahifani chiroyli qilish uchun...", questions: [
        {q:"CSS nima qiladi?",a:["Struktura","Dizayn","Logika"],c:1},
        {q:"color: red; nima qiladi?",a:["Fon","Matn rangi","Chegara"],c:1},
        // ... qolgan 8 ta savol shunga oâ€˜xshash
      ]},
      // Qolgan 8 ta dars ham shu tuzilishda (xohlasangiz toâ€˜liq yuboraman)
    ];

    let currentLesson = 0;
    const progress = JSON.parse(localStorage.getItem('webProgress') || '[]');

    function loadLesson(i) {
      if (i > 0 && !progress.includes(i-1)) return alert("Oldingi darsni tugating!");
      currentLesson = i;
      const l = lessons[i];
      document.getElementById('lessonTitle').textContent = l.title;
      document.getElementById('videoFrame').src = `https://www.youtube.com/embed/${l.video}`;
      document.getElementById('lessonText').textContent = l.text;
      document.getElementById('quizTitle').textContent = l.title;

      const qdiv = document.getElementById('questions');
      qdiv.innerHTML = '';
      l.questions.forEach((q, idx) => {
        const div = document.createElement('div');
        div.innerHTML = `<p class="text-xl font-semibold mb-4">${idx+1}. ${q.q}</p>`;
        q.a.forEach((opt, j) => {
          div.innerHTML += `<label class="block text-lg mb-3 cursor-pointer hover:bg-cyan-50 p-3 rounded-lg">
            <input type="radio" name="q${idx}" value="${j}" class="mr-3"> ${opt}
          </label>`;
        });
        qdiv.appendChild(div);
      });
      document.getElementById('quizResult').textContent = '';
    }

    function checkQuiz() {
      const l = lessons[currentLesson];
      let correct = 0;
      l.questions.forEach((q, i) => {
        const sel = document.querySelector(`input[name="q${i}"]:checked`);
        if (sel && parseInt(sel.value) === q.c) correct++;
      });
      const percent = Math.round((correct / l.questions.length) * 100);
      const res = document.getElementById('quizResult');
      if (percent >= 80) {
        res.innerHTML = `Ajoyib! ${percent}% toâ€˜gâ€˜ri! Keyingi dars ochildi!`;
        res.className = "text-green-600";
        if (!progress.includes(currentLesson)) {
          progress.push(currentLesson);
          localStorage.setItem('webProgress', JSON.stringify(progress));
          updateLessonList();
        }
      } else {
        res.innerHTML = `Yana urining! ${percent}% (80% kerak)`;
        res.className = "text-red-600";
      }
    }

    function updateLessonList() {
      const list = document.getElementById('lessonList');
      list.innerHTML = '';
      lessons.forEach((l, i) => {
        const div = document.createElement('div');
        div.className = 'p-5 rounded-xl cursor-pointer transition-all border-2';
        div.onclick = () => loadLesson(i);
        if (progress.includes(i)) {
          div.className += ' bg-green-50 border-green-500';
          div.innerHTML = `âœ“ <span class="font-bold text-green-700">${l.title}</span>`;
        } else if (i === 0 || progress.includes(i-1)) {
          div.className += ' bg-blue-50 border-blue-500 hover:bg-blue-100';
          div.innerHTML = `â–¶ <span class="font-semibold">${l.title}</span>`;
        } else {
          div.className += ' bg-gray-200 border-gray-400 opacity-60';
          div.innerHTML = `ðŸ”’ ${l.title}`;
          div.onclick = () => alert("Oldingi darsni tugating!");
        }
        list.appendChild(div);
      });
      document.getElementById('progressPercent').textContent = Math.round((progress.length / lessons.length)*100) + '%';
    }

    updateLessonList();
    loadLesson(progress.length > 0 ? progress[progress.length-1] : 0);
  </script>
</body>
</html>
