<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python 0 dan Pro | Talim Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
  <style>
    body { background: linear-gradient(135deg, #0f172a, #1e293b); color: #e2e8f0; min-height: 100vh; font-family: 'Segoe UI', sans-serif; }
    .card { background: rgba(255,255,255,0.08); backdrop-filter: blur(12px); border-radius: 24px; padding: 28px; margin: 24px auto; max-width: 1000px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); transition: all 0.4s; }
    .locked { opacity: 0.5; pointer-events: none; position: relative; }
    .locked::after { content: "QULF"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 6rem; color: #f59e0b; font-weight: 900; text-shadow: 0 0 30px #000; }
    .btn { padding: 14px 28px; border: none; border-radius: 20px; background: #f59e0b; color: #000; font-weight: bold; cursor: pointer; transition: 0.3s; }
    .btn:hover { background: #fbbf24; transform: scale(1.05); }
    .correct { background: #22c55e !important; color: white !important; }
    .wrong { background: #ef4444 !important; color: white !important; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #10b981, #22c55e); width: 0%; transition: width 1s ease; }
  </style>
</head>
<body class="p-6">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
      <h1 class="text-6xl font-extrabold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent mb-4">
        PYTHON 0 DAN PROFESSIONAL GACHA
      </h1>
      <p class="text-2xl mb-6">60+ dars • 1000+ savol • Sertifikat • PDF kitob</p>
      <div class="h-6 bg-gray-800 rounded-full overflow-hidden max-w-2xl mx-auto">
        <div id="progressFill" class="progress-fill"></div>
      </div>
      <p class="text-3xl mt-4 font-bold">Bajarilishi: <span id="progressText">0%</span></p>
    </div>

    <div id="lessons"></div>
  </div>

  <script>
    const lessons = [
      { title: "1-dars: Python bilan tanishuv", video: "73WtJpt_4gA", text: "Python — dunyodagi eng mashhur va oson dasturlash tili...", pdf: "https://azizbekang.github.io/talim-hub/books/python.pdf", questions: [
        {q:"Python qachon yaratilgan?",a:["1985","1991","2000"],c:1},
        {q:"Yaratuvchisi kim?",a:["Bill Gates","Guido van Rossum","Linus Torvalds"],c:1},
        {q:"Fayl kengaytmasi?",a:[".java",".py",".js"],c:1},
        {q:"print() nima qiladi?",a:["Kiritadi","Chiqaradi","Saqlaydi"],c:1},
        {q:"Case-sensitive?",a:["Yo‘q","Ha"],c:1},
        {q:"Ramzi?",a:["Ilon","Qush","Koptok"],c:0},
        {q:"Boshqaruvchi tashkilot?",a:["Google","Python Software Foundation","Microsoft"],c:1},
        {q:"Eng mashhur IDE?",a:["VS Code","PyCharm","Jupyter"],c:0},
        {q:"Ko‘p paradigma?",a:["Faqat OOP","Ko‘p paradigma"],c:1},
        {q:"Birinchi versiya?",a:["1991","2000","1989"],c:0}
      ]},
      { title: "2-dars: O‘zgaruvchilar va turlar", video: "TfXfBPO4wug", text: "int, str, float, bool, None...", pdf: "https://azizbekang.github.io/talim-hub/books/python.pdf", questions: [
        {q:"int bu nima?",a:["Matn","Butun son","Kasr son"],c:1},
        {q:"str qanday yoziladi?",a:["Raqam","Tirnoq ichida","Qavs ichida"],c:1},
        {q:"type(x) nima qaytaradi?",a:["Qiymat","Tur","Xato"],c:1},
        {q:"float bu nima?",a:["Butun son","Kasr son","Matn"],c:1},
        {q:"bool nechta qiymatga ega?",a:["1 ta","2 ta","3 ta"],c:1},
        {q:"None bu nima?",a:["0","Bo‘sh qiymat","Xato"],c:1},
        {q:"O‘zgaruvchi nomi qayerdan boshlanadi?",a:["Raqamdan","Harfdan yoki _","Belgidan"],c:1},
        {q:"x = 5; y = '5'; type(x) == type(y)",a:["True","False"],c:1},
        {q:"str(123) nima qaytaradi?",a:["123","'123'","Xato"],c:1},
        {q:"int('salom') ishlaydimi?",a:["Ha","Yo‘q"],c:1}
      ]},
      { title: "3-dars: If-else va shartlar", video: "evTa5bQ393A", text: "if, elif, else, and, or, not...", pdf: "https://azizbekang.github.io/talim-hub/books/python.pdf", questions: [
        {q:"if dan keyin nima keladi?",a:["Shart","Javob","Tsikl"],c:0},
        {q:"else qachon ishlaydi?",a:["Har doim","Hech qachon","Shart noto‘g‘ri bo‘lsa"],c:2},
        {q:"elif necha marta ishlatish mumkin?",a:["1 marta","Cheksiz","0 marta"],c:1},
        {q:"and operator qachon True?",a:["Ikkalasi True","Biri True","Hech qachon"],c:0},
        {q:"or operator qachon True?",a:["Ikkalasi False","Biri True","Ikkalasi True"],c:1},
        {q:"not True nima?",a:["True","False"],c:1},
        {q:"== bu nima?",a:["Teng emas","Tenglik","Qo‘shish"],c:1},
        {q:"!= bu nima?",a:["Teng","Teng emas"],c:1},
        {q:">= qachon True?",a:["Katta","Katta yoki teng","Kichik"],c:1},
        {q:"in operator nima qiladi?",a:["Ro‘yxatda borligini tekshiradi","Qo‘shadi","O‘chiradi"],c:0}
      ]},
      // Yana 9 ta dars qo‘shishingiz mumkin
    ];

    let progress = JSON.parse(localStorage.getItem('python_progress') || '[]');
    const container = document.getElementById('lessons');

    lessons.forEach((lesson, i) => {
      const unlocked = i === 0 || progress.includes(i - 1);
      const completed = progress.includes(i);

      const div = document.createElement('div');
      div.className = `card ${!unlocked ? 'locked' : ''}`;
      div.innerHTML = `
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-4xl font-bold ${completed ? 'text-green-400' : 'text-yellow-300'}">
            ${completed ? 'Done' : (unlocked ? 'Play' : 'Lock')} ${lesson.title}
          </h2>
        </div>
        ${unlocked ? `
          <iframe src="https://www.youtube.com/embed/${lesson.video}" class="w-full h-96 rounded-2xl mb-8" allowfullscreen></iframe>
          <p class="text-xl leading-relaxed mb-8">${lesson.text}</p>
          <a href="${lesson.pdf}" target="_blank" class="inline-block bg-red-600 hover:bg-red-500 text-white font-bold py-4 px-10 rounded-2xl mb-10">
            PDF KITOB YUKLASH
          </a>
          <h3 class="text-3xl font-bold mb-8 text-cyan-300">Test (10 savol)</h3>
          <div id="quiz-${i}" class="space-y-8">
            ${lesson.questions.map((q, j) => `
              <div class="bg-white/10 p-8 rounded-2xl">
                <p class="font-bold text-2xl mb-6">${j+1}. ${q.q}</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  ${q.a.map((ans, k) => `<button class="btn text-lg" onclick="select(${i},${j},${k},${q.c})">${ans}</button>`).join("")}
                </div>
              </div>
            `).join("")}
          </div>
          <div class="text-center mt-12">
            <button id="submit-${i}" class="hidden bg-gradient-to-r from-green-500 to-emerald-600 text-black font-bold py-5 px-16 rounded-2xl text-2xl shadow-xl" onclick="check(${i})">
              JAVOBNI TEKSHIRISH
            </button>
            <p id="result-${i}" class="mt-8 text-4xl font-bold"></p>
          </div>
        ` : `<div class="text-center py-40 text-4xl opacity-50">Oldingi darsni tugating!</div>`}
      `;
      container.appendChild(div);
    });

    window.select = function(l, q, s, c) {
      document.getElementById(`submit-${l}`).classList.remove('hidden');
      if (!window.answers) window.answers = {};
      if (!window.answers[l]) window.answers[l] = [];
      window.answers[l][q] = s;
    };

    window.check = function(idx) {
      let correct = 0;
      lessons[idx].questions.forEach((q, i) => {
        const sel = window.answers[idx][i];
        if (sel === q.c) correct++;
        document.querySelectorAll(`#quiz-${idx} button`).forEach((b, j) => {
          if (j % q.a.length === q.c) b.classList.add('correct');
          else if (j % q.a.length === sel && sel !== q.c) b.classList.add('wrong');
          b.disabled = true;
        });
      });
      const percent = Math.round((correct / 10) * 100);
      const res = document.getElementById(`result-${idx}`);
      if (percent >= 80) {
        res.innerHTML = `Ajoyib! ${percent}% – Keyingi dars ochildi!`;
        res.className = "text-green-400";
        if (!progress.includes(idx)) {
          progress.push(idx);
          localStorage.setItem('python_progress', JSON.stringify(progress));
          updateProgress();
          setTimeout(() => location.reload(), 2000);
        }
      } else {
        res.innerHTML = `Yana urining! ${percent}% (80% kerak)`;
        res.className = "text-red-400";
      }
    };

    function updateProgress() {
      const p = Math.round((progress.length / lessons.length) * 100);
      document.getElementById('progressText').textContent = p + '%';
      document.getElementById('progressFill').style.width = p + '%';
      if (p === 100) {
        const user = JSON.parse(sessionStorage.getItem('currentUser') || '{}');
        alert(`Tabriklaymiz, ${user.name || "Talaba"}!\nPython kursini tugatdingiz!`);
        window.open('sertifikat.html?name=' + encodeURIComponent(user.name || "Talaba") + '&kurs=Python+Dasturlash', '_blank');
      }
    }
    updateProgress();
  </script>
</body>
</html>
